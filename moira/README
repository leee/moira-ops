README file for creating Moira*

This is the root directory of MIT Athena's Moira service management
system source code.

The Makefiles are set up so that the source tree can be
separate from the tree(s) containing binaries.  We have
found this useful since we have to have separate sets of binaries,
for different platforms.

Here are the steps for building the Moira source.

1.  Create a directory to hold the tree of object files,
    say it's /foo/bar/baz.

2.  Cd to that directory and run the command:

	make -f /x/y/z/util/makeconfig SRCDIR=/x/y/z

    where /x/y/z is the root of the source tree (not necessary
    if the root is /mit/moiradev/src).  This creates the necessary
    directories and copies Makefiles into them.

3.  Cd to util/imake.includes.  Read through config.Imakefile, turning
    on appropriate flags for your installation, and setting the paths
    to your include files, libs, etc for Kerberos, Hesiod and Zephyr.*
    Note that we are not licensed to distribute gdss, so it is not
    included in this distribution.  Therefore you will probably not
    want to define it.

    If you are building the server binaries, uncomment the #define
    SVRBUILD line, and make sure you have ORACLE_HOME set in your
    environment.

4.  Cd to include.  Read through moira_site.h adjusting the paths to
    what you want on your system.  Also change the #define of
    MOIRA_SERVER to be the name of the server you are planning on
    using. (Note that this is only used if hesiod lookup fails.)

5.  Still in the top of the object directory (/foo/bar/baz
    of Step 1), type "make world"

6.  Run "make install".  You may want to check that programs
    are installed where you want.  Then add the appropriate
    directories to your PATH environment variable.

* Moira and Hesiod are registered trademarks of the Massachusetts
Institute of Technology (MIT).  Kerberos, and Zephyr are trademarks of
MIT.  No commercial use of these trademarks may be made without prior
written permission from MIT.
