# $Header: /afs/.athena.mit.edu/astaff/project/moiradev/repository/moira/clients/moira/Imakefile,v 1.4 1991-03-24 23:34:03 mar Exp $
#
# Copyright 1990 by the Massachusetts Institute of Technology.
#
# For copying and distribution information,
# please see the file <mit-copyright.h>.
#
# Imakefile for moira client.
#

MSRCS=	utils.c attach.c cluster.c delete.c globals.c lists.c main.c \
	menu.c menus.c nfs.c pobox.c quota.c user.c dcmmaint.c printer.c \
	misc.c zephyr.c
SRCS=	${MSRCS} namespace.c
SRCDIR=${SRCTOP}/clients/moira
CODE=${SRCS} Imakefile defs.h f_defs.h globals.h menu.h
MOBJS=	attach.o cluster.o delete.o globals.o lists.o main.o menu.o \
	menus.o nfs.o pobox.o quota.o user.o utils.o dcmmaint.o printer.o \
	misc.o zephyr.o
NOBJS=	namespace.o globals.o lists.o menu.o \
	pobox.o user.o utils.o misc.o
OBJS=	${MOBJS} ${NOBJS}
INCLUDE= -I$(BUILDTOP)/include -I$(BUILDTOP)/lib -I.

program(moira, ${MOBJS},${MR_LIBDEP} ${GDB_LIBDEP}, ${CLIBS} -lcurses -ltermcap,${PROGDIR})
program(namespace, ${NOBJS},${MR_LIBDEP} ${GDB_LIBDEP}, ${CLIBS} -lcurses -ltermcap,${PROGDIR})

install::
	$(RM) $(DESTDIR)/usr/athena/listmaint
	ln -s moira $(DESTDIR)/usr/athena/listmaint
	$(RM) $(DESTDIR)/usr/athena/dcmmaint
	ln -s moira $(DESTDIR)/usr/athena/dcmmaint
	$(RM) $(DESTDIR)/usr/athena/usermaint
	ln -s moira $(DESTDIR)/usr/athena/usermaint

depend:: ${CODE}
