#!/bin/csh -f
#
# This script sets the quota for a uid on a filesystem. 

set dev=$1

# Checking for /etc/enforce_quota is transitional code and should be 
# removed when the SMS database has an accurate understanding of what
# everyone's quotas are.
if ( -f /etc/enforce_quota ) then
   while (1)
      # set args = $< will NOT work.  $< will be treated as a single word
      set args = `echo $<`
 
      if (${#args} != 2) break

      set uid = args[1]
      set quota = args[2]

      setquota -u $dev $uid $quota
      if ($status) ### Soft failure
   end
endif

exit 0

#
# 	$Source: /afs/.athena.mit.edu/astaff/project/moiradev/repository/moira/gen/install_quotas,v $
#	$Header: /afs/.athena.mit.edu/astaff/project/moiradev/repository/moira/gen/install_quotas,v 1.1 1988-08-05 14:25:38 qjb Exp $
#
