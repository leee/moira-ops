# $Header: /afs/.athena.mit.edu/astaff/project/moiradev/repository/moira/gen/Imakefile,v 1.4 1996-07-02 02:34:20 danw Exp $
#
# Copyright 1993 by the Massachusetts Institute of Technology.
#
# For copying and distribution information,
# please see the file <mit-copyright.h>.
#
# Imakefile for server directory.
#

SRCDIR = $(SRCTOP)/gen
#ifdef GDSS
SRCS = util.c moddiff.c ca.c passwd.c zephyr.c aliases.c hesiod.c \
	nfs.c mailhub.c mitdir.c prlogger.c stats.c sis.c pobox.c \
	letter.c hosts.c report.c networks.c
OBJS = util.o moddiff.o ca.o passwd.o zephyr.o aliases.o hesiod.o \
	nfs.o mailhub.o mitdir.o prlogger.o stats.o sis.o pobox.o \
	letter.o hosts.o report.o networks.o
CODE = util.c moddiff.dc ca.dc passwd.dc zephyr.dc aliases.dc hesiod.dc \
	nfs.dc mailhub.dc mitdir.dc prlogger.dc stats.dc sis.dc pobox.dc \
	letter.dc hosts.dc report.dc networks.dc
LIBS =  -L/usr/athena/lib ../lib/libmoira.a -lcom_err -lzephyr \
	../server/libmrglue.a /mit/gdss/`machtype`/libgdss.a \
	-lkrb -ldes -lhesiod ${SQL_LIB}
DEFINES = -I/mit/gdss/include
#else /* GDSS */
SRCS = util.c moddiff.c ca.c passwd.c zephyr.c aliases.c hesiod.c \
	nfs.c mailhub.c mitdir.c prlogger.c stats.c pobox.c \
	letter.c hosts.c report.c networks.c
OBJS = util.o moddiff.o ca.o passwd.o zephyr.o aliases.o hesiod.o \
	nfs.o mailhub.o mitdir.o prlogger.o stats.o pobox.o \
	letter.o hosts.o report.o networks.o
CODE = util.c moddiff.dc ca.dc passwd.dc zephyr.dc aliases.dc hesiod.dc \
	nfs.dc mailhub.dc mitdir.dc prlogger.dc stats.dc pobox.dc \
	letter.dc hosts.dc report.dc networks.dc
LIBS =  -L/usr/athena/lib ../lib/libmoira.a -lcom_err -lzephyr \
	../server/libmrglue.a -lkrb -ldes -lhesiod ${SQL_LIB}
DEFINES =
#endif /* GDSS */
sqlrule()

program(ca.gen, ca.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(moddiff)
sqlfile(ca)
program(passwd.gen, passwd.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(passwd)
program(zephyr.gen, zephyr.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(zephyr)
program(aliases.gen, aliases.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(aliases)
program(hesiod.gen, hesiod.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(hesiod)
program(nfs.gen, nfs.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(nfs)
program(mailhub.gen, mailhub.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(mailhub)
program(mitdir.gen, mitdir.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(mitdir)
program(prlogger.gen, prlogger.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(prlogger)
program(stats.gen, stats.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(stats)
#ifdef GDSS
program(sis.gen, sis.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(sis)
#endif
program(pobox.gen, pobox.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(pobox)
program(letter.gen, letter.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(letter)
program(hosts.gen, hosts.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(hosts)
program(report.gen, report.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(report);
program(networks.gen, networks.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(networks)
