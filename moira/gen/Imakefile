# $Header: /afs/.athena.mit.edu/astaff/project/moiradev/repository/moira/gen/Imakefile,v 1.9 1997-07-07 22:29:17 danw Exp $
#
# Copyright 1993 by the Massachusetts Institute of Technology.
#
# For copying and distribution information,
# please see the file <mit-copyright.h>.
#
# Imakefile for server directory.
#

SRCDIR = $(SRCTOP)/gen
#ifdef DO_GDSS
SRCS = util.c moddiff.c passwd.c hesiod.c \
	nfs.c mailhub.c sis.c pobox.c \
	hosts.c network.c warehouse.c
OBJS = util.o moddiff.o passwd.o hesiod.o \
	nfs.o mailhub.o sis.o pobox.o \
	hosts.o network.o warehouse.o
CODE = util.c moddiff.pc passwd.pc hesiod.pc \
	nfs.pc mailhub.pc sis.pc pobox.pc \
	hosts.pc network.pc warehouse.pc
LIBS =  -L/usr/athena/lib ../lib/libmoira.a -lcom_err -lzephyr \
	$(LIBGDSS) -lkrb -ldes -lhesiod ${SQL_LIB}
DEFINES = $(GDSSINC)
#else /* DO_GDSS */
SRCS = util.c moddiff.c passwd.c hesiod.c \
	nfs.c mailhub.c pobox.c \
	hosts.c network.c 
OBJS = util.o moddiff.o passwd.o hesiod.o \
	nfs.o mailhub.o pobox.o \
	hosts.o network.o 
CODE = util.c moddiff.pc passwd.pc hesiod.pc \
	nfs.pc mailhub.pc pobox.pc \
	hosts.pc network.pc 
LIBS =  -L/usr/athena/lib ../lib/libmoira.a -lcom_err -lzephyr \
	-lkrb -ldes -lhesiod ${SQL_LIB}
DEFINES =
#endif /* DO_GDSS */
sqlrule()

program(passwd.gen, passwd.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(moddiff)
sqlfile(passwd)
program(hesiod.gen, hesiod.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(hesiod)
program(nfs.gen, nfs.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(nfs)
program(mailhub.gen, mailhub.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(mailhub)
#ifdef DO_GDSS
program(sis.gen, sis.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(sis)
program(warehouse.gen, warehouse.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(warehouse)
#endif
program(pobox.gen, pobox.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(pobox)
program(hosts.gen, hosts.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(hosts)
program(network.gen, network.o util.o moddiff.o,${MR_LIBDEP},${LIBS},${PROGDIR})
sqlfile(network)

