# $Id: Makefile.in,v 1.5 1998-08-27 17:13:33 danw Exp $

SHELL=/bin/sh
@SET_MAKE@

CC=@CC@
CPPFLAGS=@CPPFLAGS@
CFLAGS=@CFLAGS@
DEFS=@DEFS@
ALL_CFLAGS=$(CPPFLAGS) $(CFLAGS) $(DEFS)
PRO_C=@PRO_C@
PRO_C_DEFS=@PRO_C_DEFS@
PRO_C_INCLUDES=@PRO_C_INCLUDES@
PRO_C_OPTS=@PRO_C_OPTS@
PRO_C_FLAGS=$(PRO_C_OPTS) $(PRO_C_DEFS) $(PRO_C_INCLUDES)
LDFLAGS=@LDFLAGS@
SQL_LIBS=@SQL_LIBS@
GDSS_LIBS=@GDSS_LIBS@
LIBS=@LIBS@
MR_LIBDEP=@MR_LIBDEP@
GDSS_LIBDEP=@GDSS_LIBDEP@
INSTALL=@INSTALL@
INSTALL_PROGRAM=@INSTALL_PROGRAM@

srcdir=@srcdir@
VPATH=@srcdir@
SRCTOP=@top_srcdir@
BUILDTOP=..
mrbindir=@mrbindir@

STUDENTS_OBJS=students.o
EMPLOYEE_OBJS=employee.o
VOTE_OBJS=vote.o
SIGN_OBJS=sign.o
VERIFY_OBJS=verify.o

CFILES=students.c employee.c vote.c sign.c verify.c

TARGET=students employee vote sign verify

.SUFFIXES: .pc

.pc.c:
	$(PRO_C) $(PRO_C_FLAGS) INAME=$< ONAME=$@

.c.o:
	$(CC) -c $(ALL_CFLAGS) $<

all: $(TARGET)

clean:
	rm -f $(STDENTS_OBJS) $(EMPLOYEE_OBJS) $(VOTE_OBJS)
	rm -f $(VERIFY_OBJS) $(SIGN_OBJS) $(CFILES) $(TARGET)

depend: $(CFILES)

install: all
	@for p in $(TARGET); do $(INSTALL_PROGRAM) $$p $(mrbindir); done

students: $(STUDENTS_OBJS) $(MR_LIBDEP)
	$(CC) -o $@ $(LDFLAGS) $(STUDENTS_OBJS) $(SQL_LIBS) $(LIBS)

employee: $(EMPLOYEE_OBJS) $(MR_LIBDEP)
	$(CC) -o $@ $(LDFLAGS) $(EMPLOYEE_OBJS) $(SQL_LIBS) $(LIBS)

vote: $(VOTE_OBJS) $(MR_LIBDEP)
	$(CC) -o $@ $(LDFLAGS) $(VOTE_OBJS) $(SQL_LIBS) $(LIBS)

sign: $(SIGN_OBJS) $(MR_LIBDEP) $(GDSS_LIBDEP)
	$(CC) -o $@ $(LDFLAGS) $(SIGN_OBJS) $(SQL_LIBS) $(GDSS_LIBS) $(LIBS)

verify: $(VERIFY_OBJS) $(MR_LIBDEP) $(GDSS_LIBDEP)
	$(CC) -o $@ $(LDFLAGS) $(VERIFY_OBJS) $(SQL_LIBS) $(GDSS_LIBS) $(LIBS)

