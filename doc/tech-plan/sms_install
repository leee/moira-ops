@MajorHeading(Installing the SMS server)

Assumptions:
1) Server hardware configuration:
   2 x RD53 as disk units 0 and 1
       RD54 as disk unit 2

2) the mailing list smsadm contains the people administering the SMS
database.

Do the following:

1) Install an Athena release onto the machine.

2) Modify fstab and set up filesystems to reflect the following
partition layout:

ra0:   partitions a, b, g
	ra0a is on /
	ra0b is swap
	ra0g is on /site
ra1:   partitions a, b, g
	ra1a is on /newroot
	ra1b is swap
	ra1g is on /u3
ra2:   partition c
	ra2c is on /u1

3) Install a kernel which has the RTI Ingres 5.0 lock driver and swaps
on ra0 and ra1 (paris:/sys/conf/SMS is the config file for that kernel).
Create the lock devices: /dev/iidr/{000,...,031} with major device 52
and minor device number 'n':
	mkdir /dev/iidr; cd /dev/iidr
	foreach d (000 001 002 003 004 005 006 007 008 009 010 011 012 \
013 014 015 016 017 018 019 020 021 022 023 024 025 026 027 028 029 \
030 031)
	mknod $d c 52 $d
	end

4) mkdir /u1/rtingres; ln -s /u1/rtingres /usr/rtingres

5) Install rtingres onto /u1/rtingres

6) Move the binaries onto /u3 (to increase performance by
distributing the load between disk spindles).

   mkdir /u3/rtingres
   cd /u1/rtingres
   tar cf - bin | (cd /u3/rtingres; tar xpBfv -)
   rm -rf /u1/rtingres/bin
   ln -s /u3/rtingres/bin /u1/rtingres/bin

7) Install the SMS distribution kit into /u1/sms.

8) Create an empty database:
~rtingres/bin/createdb sms

~rtingres/bin/quel sms
* \i /u1/sms/db/dbbuild
* \g
* \i /u1/sms/db/dbopt
* \g
* \q

9) Load the database (t.b.s.)

10) Install the appropriate /etc/srvtab, generated from Kerberos, with
the addition of the key for user "sms", instance "".  (this may change).
	/u1/sms/bin/instkey
	Password: (enter the password here)

11) Add the following two lines to /usr/lib/crontab:

0 3 * * *       root    /u2/sms/backup/nightly.sh  2>&1 | mail smsadm
0,15,30,45 * * * *     root    /u1/sms/dcm/dcm -d7 >> /tmp/dcm_log 2>&1

12) Install /u1/sms/bin/rc.local as /etc/rc.local

13) Reboot.






